from sec_edgar_downloader import Downloader

def download_10k_filings(ticker, start_year, end_year):
    dl = Downloader()
    for year in range(start_year, end_year + 1):
        for quarter in range(1, 5):
            try:
                dl.get("10-K", ticker, year, quarter)
                print(f"Downloaded 10-K filing for {ticker} - {year} - Q{quarter}")
            except Exception as e:
                print(f"Failed to download 10-K filing for {ticker} - {year} - Q{quarter}: {e}")

# List of companies (tickers) to analyze
companies = {
    "Apple Inc.": "AAPL",
    "Microsoft Corporation": "MSFT",
    "Alphabet Inc.": "GOOGL"
}

# Download 10-K filings for each company
for company, ticker in companies.items():
    print(f"Downloading 10-K filings for {company} ({ticker})...")
    download_10k_filings(ticker, 1995, 2023)
    print(f"Finished downloading 10-K filings for {company} ({ticker})")

print("All 10-K filings downloaded successfully.")